<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout_admin}">
<head>
<meta charset="UTF-8">
<title>관리자페이지 - 회원관리</title>
</head>
<body>
	<div layout:fragment="content">
		<div class="main">
			<main class="content">
				<div class="container-fluid p-0">
					<h1 class="h3 mb-3">회원관리</h1>
					<div class="card">
						<div class="card-header pb-0">
							<div class="card-actions float-end">
								<div class="dropdown position-relative">
									<a href="#" data-bs-toggle="dropdown" data-bs-display="static"
										aria-expanded="false" class=""> <svg
											xmlns="http://www.w3.org/2000/svg" width="24" height="24"
											viewBox="0 0 24 24" fill="none" stroke="currentColor"
											stroke-width="2" stroke-linecap="round"
											stroke-linejoin="round"
											class="feather feather-more-horizontal align-middle">
											<circle cx="12" cy="12" r="1"></circle>
											<circle cx="19" cy="12" r="1"></circle>
											<circle cx="5" cy="12" r="1"></circle></svg>
									</a>

									<div class="dropdown-menu dropdown-menu-end">
										<a class="dropdown-item" href="#">Action</a> <a
											class="dropdown-item" href="#">Another action</a> <a
											class="dropdown-item" href="#">Something else here</a>
									</div>
								</div>
							</div>
							<h5 class="card-title mb-0">회원관리</h5>
						</div>
						<div class="card-body">
							<div id="datatables-orders_wrapper"
								class="dataTables_wrapper dt-bootstrap5 no-footer">
								<div class="row">
									<div class="col-sm-12 col-md-6">
										<div class="dataTables_length" id="datatables-orders_length">
											<select name="datatables-orders_length"
												aria-controls="datatables-orders"
												class="form-select form-select-sm width30">
												<option value="10">10</option>
												<option value="25">25</option>
												<option value="50">50</option>
												<option value="100">100</option>
											</select>
										</div>
									</div>
									
									<div class="col-sm-12 col-md-6">
										<div id="datatables-orders_filter" class="dataTables_filter"
											style="text-align: right">
											<form th:action="@{/users/userList}" method="get" role="search">

											<label class="d-flex justify-content-end"> 
											<span>Search:</span>
												<input name="searchQuery" type="search" class="form-control form-control-sm width30" 
												placeholder="이름 입력" aria-controls="Search">
												<button class="btn btn-primary" style="margin-left: 20px;"
													type="submit">Search</button>
											</label>
											
											</form>
										</div>	
									</div>
								</div>
								<div class="row">
									<div class="col-sm-12">
										<table id="datatables-orders"
											class="table table-striped dataTable no-footer dtr-inline"
											aria-describedby="datatables-orders_info">
											<thead>
												<tr>
													<th class="sorting sorting_asc col-2" tabindex="0"
														aria-controls="datatables-orders" rowspan="1" colspan="1">No.</th>
													<th class="sorting col-2" tabindex="0"
														aria-controls="datatables-orders" rowspan="1" colspan="1">이름</th>
													<th class="sorting col-3" tabindex="0"
														aria-controls="datatables-orders" rowspan="1" colspan="1">이메일</th>
													<th class="sorting col-2" tabindex="0"
														aria-controls="datatables-orders" rowspan="1" colspan="1">가입일</th>
													<th class="sorting col-2" tabindex="0"
														aria-controls="datatables-orders" rowspan="1" colspan="1">구분</th>
													<th class="sorting_disabled col-1" rowspan="1" colspan="1"
														style="width: 75px;">회원관리</th>
												</tr>
											</thead>
											<tbody>

												<th:block th:each="user, status: ${users.getContent()}">
													<tr class="odd">
														<td class="dtr-control sorting_1" tabindex="0"><strong>[[${user.id}]]</strong></td>
														<td><a th:href="'/users/' + ${user.id}">[[${user.name}]]</a></td>
														<td>[[${user.email}]]</td>
														<td>[[${user.regDate}]]</td>
														<td><a th:href="'/users/' + ${user.id}"
															class="btn btn-primary btn-sm">[[${user.gubun}]]</a></td>
														<td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">수정</button></td>
													</tr>
													<!-- Modal -->
													<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
													  <div class="modal-dialog">
													    <div class="modal-content">
													      <div class="modal-header">
													        <h1 class="modal-title fs-5" id="staticBackdropLabel">[[${user.name}]] 회원님 정보</h1>
													        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
													      </div>
													      <div class="modal-body">
													      
													      
															<div class="col-md-4 col-xl-3">
																<div class="card mb-3">
																	<div class="card-header">
																		<h5 class="card-title mb-0">Profile Details</h5>
																	</div>
																	<div class="card-body text-center">
																		<img src="/img/avatars/avatar-4.jpg" alt="Christina Mason" class="img-fluid rounded-circle mb-2" width="128" height="128" />
																		<h5 class="card-title mb-0">Christina Mason</h5>
																		<div class="text-muted mb-2">Lead Developer</div>
									
																		<div>
																			<a class="btn btn-primary btn-sm" href="#">Follow</a>
																			<a class="btn btn-primary btn-sm" href="#"><span data-feather="message-square"></span> Message</a>
																		</div>
																	</div>
																	<hr class="my-0" />
																	<div class="card-body">
																		<h5 class="h6 card-title">Skills</h5>
																		<a href="#" class="badge bg-primary me-1 my-1">HTML</a>
																		<a href="#" class="badge bg-primary me-1 my-1">JavaScript</a>
																		<a href="#" class="badge bg-primary me-1 my-1">Sass</a>
																		<a href="#" class="badge bg-primary me-1 my-1">Angular</a>
																		<a href="#" class="badge bg-primary me-1 my-1">Vue</a>
																		<a href="#" class="badge bg-primary me-1 my-1">React</a>
																		<a href="#" class="badge bg-primary me-1 my-1">Redux</a>
																		<a href="#" class="badge bg-primary me-1 my-1">UI</a>
																		<a href="#" class="badge bg-primary me-1 my-1">UX</a>
																	</div>
																	<hr class="my-0" />
																	<div class="card-body">
																		<h5 class="h6 card-title">About</h5>
																		<ul class="list-unstyled mb-0">
																			<li class="mb-1"><span data-feather="home" class="feather-sm me-1"></span> Lives in <a href="#">San Francisco, SA</a></li>
									
																			<li class="mb-1"><span data-feather="briefcase" class="feather-sm me-1"></span> Works at <a href="#">GitHub</a></li>
																			<li class="mb-1"><span data-feather="map-pin" class="feather-sm me-1"></span> From <a href="#">Boston</a></li>
																		</ul>
																	</div>
																	<hr class="my-0" />
																	<div class="card-body">
																		<h5 class="h6 card-title">Elsewhere</h5>
																		<ul class="list-unstyled mb-0">
																			<li class="mb-1"><a href="#">staciehall.co</a></li>
																			<li class="mb-1"><a href="#">Twitter</a></li>
																			<li class="mb-1"><a href="#">Facebook</a></li>
																			<li class="mb-1"><a href="#">Instagram</a></li>
																			<li class="mb-1"><a href="#">LinkedIn</a></li>
																		</ul>
																	</div>
																</div>
															</div>
													        
													        
													      </div>
													      <div class="modal-footer">
													        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
													        <button type="button" class="btn btn-primary">닫기</button>
													      </div>
													    </div>
													  </div>
													</div>
													<!-- Modal end -->
												</th:block>



											</tbody>
										</table>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-12 col-md-5">
										<div class="dataTables_info" id="datatables-orders_info"
											role="status" aria-live="polite">Showing 1 to 10 of 15
											entries</div>
									</div>
									<div class="col-sm-12 col-md-7">

										<div
											class="dataTables_paginate paging_simple_numbers block-27"
											id="datatables-orders_paginate">
											<nav
												th:with="start=${(users.number/maxPage)*maxPage + 1},
												end=(${(users.totalPages == 0) ? 1 : (start + (maxPage -1) < users.totalPages ? start + (maxPage -1) : users.totalPages)})">
												<ul class="pagination">

													<li th:classappend="${users.first}? 'disabled'"
														class="paginate_button page-item previous disabled mx-1"
														id="datatables-orders_previous">
														<a th:href="@{'/users/userList' + '?searchQuery=' + ${userSearchDto.searchQuery} + '&page=' + ${users.number-1}}"
														aria-controls="datatables-orders" data-dt-idx="0"
														tabindex="0" class="page-link">&lt</a></li>

													<li th:each="page: ${#numbers.sequence(start, end)}"
														th:classappend="${users.number eq page-1}?'active':''" 
													class="paginate_button page-item active  mx-1">
													<a th:href="@{'/users/userList' + '?searchQuery=' + ${userSearchDto.searchQuery} + '&page=' + ${page-1}}" 
														aria-controls="datatables-orders" data-dt-idx="1"
														tabindex="0" class="page-link">[[${page}]]</a></li>

													<li th:classappend="${users.last}? 'disabled'"
														class="paginate_button page-item next"
														id="datatables-orders_next  mx-1">
														<a th:href="@{'/users/userList' + '?searchQuery=' + ${userSearchDto.searchQuery} + '&page=' + ${users.number+1}}"
														aria-controls="datatables-orders" data-dt-idx="3"
														tabindex="0" class="page-link">&gt</a></li>

												</ul>
											</nav>
										</div>
									</div>
								</div>
							</div>
						</div>
						
						


						
						
					</div>
				</div>
			</main>
		</div>
	</div>
	

</body>
</html>